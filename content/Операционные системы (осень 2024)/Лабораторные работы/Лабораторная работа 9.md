---
title: Ð›Ð°Ð±Ð¾Ñ€Ð°Ñ‚Ð¾Ñ€Ð½Ð°Ñ Ñ€Ð°Ð±Ð¾Ñ‚Ð° 9. Ð£Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ð¿Ð°ÐºÐµÑ‚Ð°Ð¼Ð¸ Ð¸ Ñ€ÐµÐ¿Ð¾Ð·Ð¸Ñ‚Ð¾Ñ€Ð¸ÑÐ¼Ð¸.
tags:
  - os
  - lab
---
## Ð—Ð°Ð´Ð°Ð½Ð¸Ðµ
1. ÐŸÐ¾Ð´ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ Ñ€ÐµÐ¿Ð¾Ð·Ð¸Ñ‚Ð¾Ñ€Ð¸Ð¹ Ñ nginx Ð»ÑŽÐ±Ñ‹Ð¼ ÑƒÐ´Ð¾Ð±Ð½Ñ‹Ð¼ ÑÐ¿Ð¾ÑÐ¾Ð±Ð¾Ð¼, ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ nginx Ð¸ Ð¿Ð¾Ñ‚Ð¾Ð¼ ÑƒÐ´Ð°Ð»Ð¸Ñ‚ÑŒ nginx, Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÑ ÑƒÑ‚Ð¸Ð»Ð¸Ñ‚Ñƒ dpkg.
2. Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ Ð¿Ð°ÐºÐµÑ‚ Ð½Ð° ÑÐ²Ð¾Ð¹ Ð²Ñ‹Ð±Ð¾Ñ€, Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÑ snap.
3. ÐÐ°ÑÑ‚Ñ€Ð¾Ð¸Ñ‚ÑŒ iptables: Ñ€Ð°Ð·Ñ€ÐµÑˆÐ¸Ñ‚ÑŒ Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ñ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð½Ð° 22-Ð¹ Ð¸ 80-Ð¹ Ð¿Ð¾Ñ€Ñ‚Ñ‹.
4. ðŸ’«ÐÐ°ÑÑ‚Ñ€Ð¾Ð¸Ñ‚ÑŒ Ð¿Ñ€Ð¾Ð±Ñ€Ð¾Ñ Ð¿Ð¾Ñ€Ñ‚Ð¾Ð² Ð»Ð¾ÐºÐ°Ð»ÑŒÐ½Ð¾ Ñ Ð¿Ð¾Ñ€Ñ‚Ð° 80 Ð½Ð° Ð¿Ð¾Ñ€Ñ‚ 8080.

## Ð˜ÑÑ…Ð¾Ð´Ð½Ñ‹Ð¹ ÐºÐ¾Ð´
```sh
âžœ Â ~ curl -fsSL https://nginx.org/keys/nginx_signing.key | sudo apt-key add -
Warning: apt-key is deprecated. Manage keyring files in trusted.gpg.d instead (see apt-key(8)).
OK
âžœ Â ~ sudo apt update && sudo apt install nginx -y --no-install-recommends
Hit:1 http://ru.archive.ubuntu.com/ubuntu noble InRelease
Hit:2 http://ru.archive.ubuntu.com/ubuntu noble-updates InRelease
Hit:3 http://ru.archive.ubuntu.com/ubuntu noble-backports InRelease
Hit:4 https://developer.download.nvidia.com/compute/cuda/repos/ubuntu2404/x86_64 Â InRelease
Hit:5 http://security.ubuntu.com/ubuntu noble-security InRelease
Hit:6 https://ppa.launchpadcontent.net/deadsnakes/ppa/ubuntu noble InRelease
Hit:7 https://packages.microsoft.com/repos/code stable InRelease
Reading package lists... Done
Building dependency tree... Done
Reading state information... Done
6 packages can be upgraded. Run 'apt list --upgradable' to see them.
Reading package lists... Done
Building dependency tree... Done
Reading state information... Done
The following packages were automatically installed and are no longer required:
Â g++-12 libaccinj64-12.0 libcu++-dev libcub-dev libcublas12 libcublaslt12 libcudart12 libcufft11 libcufftw11 libcuinj64-12.0 libcupti-dev libcupti-doc libcupti12 libcurand10 libcusolver11 libcusolvermg11 libcusparse12 libdrm2:i386
Â libffi8:i386 libfm-qt-dev libmenu-cache-dev libnppc12 libnppial12 libnppicc12 libnppidei12 libnppif12 libnppig12 libnppim12 libnppist12 libnppisu12 libnppitc12 libnpps12 libnvblas12 libnvidia-egl-wayland1 libnvidia-egl-wayland1:i386
Â libnvidia-ml-dev libnvjitlink12 libnvjpeg12 libnvrtc-builtins12.0 libnvrtc12 libnvtoolsext1 libnvvm4 libqt5x11extras5-dev libsnapd-qt-2-1 libstdc++-12-dev libthrust-dev libvdpau-dev libwayland-client0:i386 libwayland-server0:i386
Â node-html5shiv nvidia-cuda-dev nvidia-cuda-gdb nvidia-cuda-toolkit-doc nvidia-firmware-550-550.120 nvidia-opencl-dev nvidia-profiler nvidia-visual-profiler ocl-icd-opencl-dev opencl-c-headers opencl-clhpp-headers
Use 'sudo apt autoremove' to remove them.
The following additional packages will be installed:
Â nginx-common
Suggested packages:
Â fcgiwrap nginx-doc
The following NEW packages will be installed:
Â nginx nginx-common
0 upgraded, 2 newly installed, 0 to remove and 6 not upgraded.
Need to get 552 kB of archives.
After this operation, 1,596 kB of additional disk space will be used.
Get:1 http://ru.archive.ubuntu.com/ubuntu noble-updates/main amd64 nginx-common all 1.24.0-2ubuntu7.1 [31.2 kB]
Get:2 http://ru.archive.ubuntu.com/ubuntu noble-updates/main amd64 nginx amd64 1.24.0-2ubuntu7.1 [521 kB]
Fetched 552 kB in 0s (4,168 kB/s)
Preconfiguring packages ...
Selecting previously unselected package nginx-common.
(Reading database ... 515207 files and directories currently installed.)
Preparing to unpack .../nginx-common_1.24.0-2ubuntu7.1_all.deb ...
Unpacking nginx-common (1.24.0-2ubuntu7.1) ...
Selecting previously unselected package nginx.
Preparing to unpack .../nginx_1.24.0-2ubuntu7.1_amd64.deb ...
Unpacking nginx (1.24.0-2ubuntu7.1) ...
Setting up nginx (1.24.0-2ubuntu7.1) ...
Setting up nginx-common (1.24.0-2ubuntu7.1) ...
Created symlink /etc/systemd/system/multi-user.target.wants/nginx.service â†’ /usr/lib/systemd/system/nginx.service.
Processing triggers for ufw (0.36.2-6) ...
Processing triggers for man-db (2.12.0-4build2) ...
âžœ Â ~ dpkg -l | grep '[n]ginx'
ii Â nginx Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â 1.24.0-2ubuntu7.1 Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â amd64 Â Â Â Â Â Â Â small, powerful, scalable web/proxy server
ii Â nginx-common Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â 1.24.0-2ubuntu7.1 Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â all Â Â Â Â Â Â Â Â Â small, powerful, scalable web/proxy server - common files
âžœ Â ~ sudo dpkg --purge nginx
dpkg: dependency problems prevent removal of nginx:
nginx-common depends on nginx (>= 1.24.0-2ubuntu7.1).
nginx-common depends on nginx (<< 1.24.0-2ubuntu7.1.1~).
nginx-common depends on nginx (>= 1.24.0-2ubuntu7.1).
nginx-common depends on nginx (<< 1.24.0-2ubuntu7.1.1~).

dpkg: error processing package nginx (--purge):
dependency problems - not removing
Errors were encountered while processing:
nginx
âžœ Â ~ sudo dpkg --purge nginx-common
dpkg: dependency problems prevent removal of nginx-common:
nginx depends on nginx-common (= 1.24.0-2ubuntu7.1).

dpkg: error processing package nginx-common (--purge):
dependency problems - not removing
Errors were encountered while processing:
nginx-common
âžœ Â ~ sudo dpkg --purge nginx-common nginx
(Reading database ... 515254 files and directories currently installed.)
Removing nginx-common (1.24.0-2ubuntu7.1) ...
Purging configuration files for nginx-common (1.24.0-2ubuntu7.1) ...
Removing nginx (1.24.0-2ubuntu7.1) ...
Processing triggers for ufw (0.36.2-6) ...
Processing triggers for man-db (2.12.0-4build2) ...
âžœ Â ~ dpkg -l | grep '[n]ginx'
âžœ Â ~ sudo snap install telegram-cli
telegram-cli 1.3.1 from Marius Quabeck installed
âžœ Â ~ sudo iptables -F
âžœ Â ~ sudo iptables -A INPUT -p tcp --dport 80 -j ACCEPT
âžœ Â ~ sudo iptables -A INPUT -p tcp --dport 22 -j ACCEPT
âžœ Â ~ sudo sysctl -w net.ipv4.ip_forward=1
net.ipv4.ip_forward = 1
âžœ Â ~ sudo iptables -A FORWARD -j ACCEPT
âžœ Â ~ sudo iptables -t nat -A PREROUTING -p tcp --dport 80 -j REDIRECT --to-port 8080
âžœ Â ~
```