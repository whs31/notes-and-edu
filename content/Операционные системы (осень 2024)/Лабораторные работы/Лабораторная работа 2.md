---
title: –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ 2
tags:
  - os
  - lab
---
## –ó–∞–¥–∞–Ω–∏–µ
1. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
	- —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
	- —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –Ω–µ–º –ø–æ—è–≤–∏–ª–∞—Å—å –≤ —Å–∏—Å—Ç–µ–º–µ
	- —É–¥–∞–ª–∏—Ç—å —Å–æ–∑–¥–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
2. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≥—Ä—É–ø–ø–∞–º–∏
	- —Å–æ–∑–¥–∞—Ç—å –≥—Ä—É–ø–ø—É
	- —Å–º–µ–Ω–∏—Ç—å –≥—Ä—É–ø–ø—É —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
	- –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –≥—Ä—É–ø–ø—É, –Ω–µ –º–µ–Ω—è—è –æ—Å–Ω–æ–≤–Ω–æ–π
	- —É–¥–∞–ª–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ –≥—Ä—É–ø–ø—ã
3. –°–æ–∑–¥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –ø—Ä–∞–≤–∞–º–∏ —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
4. üí´ –í—ã–¥–∞—Ç—å –æ–¥–Ω–æ–º—É –∏–∑ —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø—Ä–∞–≤–æ –Ω–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ *—Ä—è–¥–∞ –∫–æ–º–∞–Ω–¥*, —Ç—Ä–µ–±—É—é—â–∏—Ö `sudo`
## –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥
##### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
```sh
sudo useradd -m -d /home/dummyuser -s /bin/zsh dummyuser 
ls /home
sudo cat /etc/passwd | grep dummyuser
sudo userdel -r dummyuser
ls /home
```

–í—ã–≤–æ–¥:
```sh
dummyuser whs31
dummyuser:x:1001:1002::/home/dummyuser:/bin/bash          
userdel: dummyuser mail spool (/var/mail/dummyuser) not found # user is deleted anyways
whs31
```

##### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≥—Ä—É–ø–ø–∞–º–∏
```sh
sudo groupadd dummygroup
sudo cat /etc/group | grep dummygroup
sudo usermod -a -G dummygroup dummyuser
sudo cat /etc/group | grep dummygroup
sudo usermod -r -G dummygroup dummyuser
sudo cat /etc/group | grep dummygroup
sudo groupdel dummygroup
```

–í—ã–≤–æ–¥:
```sh
dummygroup:x:1003:
dummygroup:x:1003:dummyuser
dummygroup:x:1003:
```

##### –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –ø—Ä–∞–≤–∞–º–∏ —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
```sh
sudo useradd -m -d /home/dummyuser -s /bin/zsh dummyuser
sudo usermod -aG sudo dummyuser
groups dummyuser
sudo cat /etc/sudoers | grep dummyuser

sudo -u dummyuser -i
whoami
sudo rm -rf /

sudo -u whs31 -i
sudo userdel -r dummyuser
```

–í—ã–≤–æ–¥:	
```sh
dummyuser : dummyuser sudo
dummyuser ALL=(ALL) ALL
dummyuser
rm: it is dangerous to operate recursively on '/'
rm: use --no-preserve-root to override this failsafe
userdel: dummyuser mail spool (/var/mail/dummyuser) not found
```

##### –í—ã–¥–∞—Ç—å –æ–¥–Ω–æ–º—É –∏–∑ —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø—Ä–∞–≤–æ –Ω–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ *—Ä—è–¥–∞ –∫–æ–º–∞–Ω–¥*, —Ç—Ä–µ–±—É—é—â–∏—Ö `sudo`
```sh
sudo visudo
```

–î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ–Ω–µ—Ü —Ñ–∞–∏ÃÜ–ª–∞:
```toml
dummyuser ALL=(ALL) /usr/bin/rm /usr/bin/whoami 
```